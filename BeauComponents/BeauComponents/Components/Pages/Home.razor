@page "/"
@using BeauComponents.Components.Controls
@using System.Data
@using static BeauComponents.Components.Classes.BeauEnums
@rendermode InteractiveServer
 <BeauGridView Name="grid-view" DataTable="BindDt()"  OnClickRow="(n) => {Clicked(n, false);}" 
     Editable="true" />

<BeauInputText @bind-value="username" PlaceHolder="نام کاربری"></BeauInputText>

@code {

    public string username { get; set; }

    #region Modal
    private bool isModalVisible = false;
    private void ShowModal()
    {
        isModalVisible = true;
    }
    private void OnModalVisibilityChanged(bool visibility)
    {
        isModalVisible = visibility;
    }

    private static DialogResult _dialogResult;
    private void OnModalDialogResultChanged(DialogResult dialogResult)
    {
        _dialogResult = dialogResult;
        this.StateHasChanged();
    }
    #endregion

    private DataTable BindDt()
    {
        DataTable MyDataTable = new DataTable();
        MyDataTable.Columns.Add("ID", typeof(int));
        MyDataTable.Columns.Add("Name", typeof(string));
        MyDataTable.Columns.Add("Age", typeof(int));

        MyDataTable.Rows.Add(1, "Alice", 25);
        MyDataTable.Rows.Add(2, "Bob", 30);
        MyDataTable.Rows.Add(3, "Charlie", 35);

        return MyDataTable;
    }

    string? value;
    private static DataRowView? selectedRow;
    private DataRowView? Clicked(DataRowView? dataRow, bool stateHasChanged)
    {
        selectedRow = dataRow;
        if (stateHasChanged == true)
            this.StateHasChanged();
        return selectedRow;
    }
}
